---
import Layout from '../layouts/Layout.astro';
import SkillCard from '../components/SkillCard.astro';
import { competences } from '../config/competences.config';
---

<Layout title="√Ä propos - Enzo Locatelli">
	<!-- Section d'introduction -->
	<section id="intro" class="min-h-screen flex items-center px-4 py-20">
		<div class="max-w-7xl mx-auto w-full">
			<div class="grid md:grid-cols-2 gap-12 items-center">
				<!-- Texte √† gauche -->
				<div class="animate-fade-in text-left">
					<h1 class="text-5xl md:text-6xl lg:text-7xl font-bold mb-6">
						<span class="block text-white mb-2">Enchant√©,</span>
						<span class="block text-white mb-2">moi c'est</span>
						<span class="neon-pink text-6xl md:text-7xl lg:text-8xl">Enzo</span>
					</h1>
					
					<h2 class="text-2xl md:text-3xl mb-8 text-white">
						‚ú® <span class="neon-pink font-semibold">√âtudiant en MMI</span> & <span class="neon-pink font-semibold">designer graphique</span>
					</h2>
					
					<p class="text-base md:text-lg leading-relaxed text-gray-300 max-w-xl mb-6">
						Passionn√© par le design graphique, la communication visuelle et le d√©veloppement web, 
						je transforme les id√©es en cr√©ations visuelles modernes et impactantes.
					</p>
					
					<p class="text-base md:text-lg leading-relaxed text-gray-300 max-w-xl">
						Mon objectif ? Allier esth√©tique et fonctionnalit√© pour cr√©er des exp√©riences 
						num√©riques qui marquent les esprits.
					</p>
				</div>

				<!-- Photo √† droite avec halo n√©on -->
				<div class="relative animate-zoom-in flex justify-center md:justify-end">
					<div class="relative">
						<!-- Halo rose/bleu -->
						<div class="absolute inset-0 rounded-full bg-gradient-to-br from-primary-pink via-purple-500 to-primary-blue blur-3xl opacity-60 animate-pulse-glow"></div>
						
						<!-- Cadre avec d√©grad√© -->
						<div class="relative w-80 h-80 md:w-96 md:h-96 rounded-full bg-gradient-to-br from-primary-pink via-purple-600 to-primary-blue p-1">
							<div class="w-full h-full rounded-full overflow-hidden bg-black">
								<!-- Photo en noir et blanc -->
								<img src="/ia-photo1.webp" alt="Photo de Enzo Locatelli" class="w-full h-full object-cover grayscale hover:grayscale-0 transition-all duration-500"/>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Section "Mon parcours" - Timeline -->
	<section id="parcours" class="py-24 px-4 overflow-hidden">
		<div class="max-w-7xl mx-auto">
			<div class="text-center mb-16 scroll-reveal">
				<h2 class="text-4xl md:text-5xl lg:text-6xl font-bold mb-6">
					<span class="text-white">MON </span><span class="neon-pink">PARCOURS</span>
				</h2>
			</div>

			<!-- Timeline horizontale -->
			<div class="relative">
				<!-- Ligne de connexion anim√©e -->
				<div class="absolute top-1/2 left-0 right-0 h-1 bg-gradient-to-r from-primary-pink via-primary-blue to-primary-pink hidden md:block timeline-wave"></div>
				
				<!-- Cartes du parcours -->
				<div class="flex flex-col md:flex-row justify-between items-center gap-8 md:gap-4 relative z-10">
					<!-- 2019 -->
					<div class="timeline-card scroll-reveal w-full md:w-1/4" style="animation-delay: 0.1s;">
						<div class="card bg-gradient-to-br from-gray-900/80 to-black/80 backdrop-blur-sm border-2 border-primary-pink/30 hover:border-primary-pink transition-all duration-300 card-hover">
							<div class="card-body p-6 text-center">
								<div class="text-5xl font-bold neon-pink mb-4">2019</div>
								<div class="w-12 h-12 rounded-full bg-primary-pink mx-auto mb-4 flex items-center justify-center">
									<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path>
									</svg>
								</div>
								<p class="text-gray-300 text-sm">
									D√©couverte de la <span class="text-primary-pink font-semibold">typographie</span> et premi√®res cr√©ations graphiques
								</p>
							</div>
						</div>
					</div>

					<!-- 2020-2021 -->
					<div class="timeline-card scroll-reveal w-full md:w-1/4" style="animation-delay: 0.2s;">
						<div class="card bg-gradient-to-br from-primary-blue/20 to-purple-900/30 backdrop-blur-sm border-2 border-primary-blue/30 hover:border-primary-blue transition-all duration-300 card-hover">
							<div class="card-body p-6 text-center">
								<div class="text-4xl font-bold neon-blue mb-4">2020-2021</div>
								<div class="w-12 h-12 rounded-full bg-primary-blue mx-auto mb-4 flex items-center justify-center">
									<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
									</svg>
								</div>
								<p class="text-gray-300 text-sm">
									Int√©r√™t croissant pour le <span class="text-primary-blue font-semibold">d√©veloppement web</span> et premi√®res lignes de code
								</p>
							</div>
						</div>
					</div>

					<!-- 2024 -->
					<div class="timeline-card scroll-reveal w-full md:w-1/4" style="animation-delay: 0.3s;">
						<div class="card bg-gradient-to-br from-primary-pink/20 to-purple-900/30 backdrop-blur-sm border-2 border-primary-pink/30 hover:border-primary-pink transition-all duration-300 card-hover">
							<div class="card-body p-6 text-center">
								<div class="text-5xl font-bold neon-pink mb-4">2024</div>
								<div class="w-12 h-12 rounded-full bg-primary-pink mx-auto mb-4 flex items-center justify-center">
									<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
									</svg>
								</div>
								<p class="text-gray-300 text-sm">
									Entr√©e en <span class="text-primary-pink font-semibold">MMI</span>, d√©couverte approfondie du design et de la communication
								</p>
							</div>
						</div>
					</div>

					<!-- 2025 -->
					<div class="timeline-card scroll-reveal w-full md:w-1/4" style="animation-delay: 0.4s;">
						<div class="card bg-gradient-to-br from-primary-blue/20 to-purple-900/30 backdrop-blur-sm border-2 border-primary-blue/30 hover:border-primary-blue transition-all duration-300 card-hover">
							<div class="card-body p-6 text-center">
								<div class="text-5xl font-bold neon-blue mb-4">2025</div>
								<div class="w-12 h-12 rounded-full bg-primary-blue mx-auto mb-4 flex items-center justify-center">
									<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
										<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
									</svg>
								</div>
								<p class="text-gray-300 text-sm">
									R√©alisation de <span class="text-primary-blue font-semibold">projets associatifs</span> et audiovisuels professionnels
								</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Section "Mes comp√©tences" -->
	<section id="competences" class="py-24 px-4">
		<div class="max-w-7xl mx-auto">
			<div class="text-center mb-8 scroll-reveal">
				<h2 class="text-4xl md:text-5xl lg:text-6xl font-bold mb-6">
					<span class="text-white">MES </span><span class="neon-pink">COMP√âTENCES</span>
				</h2>
				<p class="text-gray-300 text-lg max-w-3xl mx-auto">
					Gr√¢ce √† ce parcours, j'ai d√©velopp√© des comp√©tences en <span class="text-primary-pink font-semibold">design</span>, 
					<span class="text-primary-blue font-semibold">d√©veloppement web</span> et 
					<span class="text-primary-pink font-semibold">communication digitale</span>.
				</p>
			</div>

			<!-- Mosa√Øque de comp√©tences -->
			<div class="skills-grid grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4 md:gap-6 mt-16 scroll-reveal">
				{competences.map((competence, index) => (
					<SkillCard 
						nom={competence.nom}
						logo={competence.logo}
						taille={competence.taille}
						couleur={competence.couleur}
					/>
				))}
			</div>

			<!-- L√©gende des cat√©gories -->
			<div class="mt-12 flex flex-wrap justify-center gap-6 scroll-reveal">
				<div class="flex items-center gap-2">
					<div class="w-3 h-3 rounded-full bg-gradient-to-r from-blue-500 to-purple-500"></div>
					<span class="text-gray-400 text-sm">Design</span>
				</div>
				<div class="flex items-center gap-2">
					<div class="w-3 h-3 rounded-full bg-gradient-to-r from-cyan-500 to-blue-500"></div>
					<span class="text-gray-400 text-sm">D√©veloppement</span>
				</div>
				<div class="flex items-center gap-2">
					<div class="w-3 h-3 rounded-full bg-gradient-to-r from-purple-500 to-pink-500"></div>
					<span class="text-gray-400 text-sm">Vid√©o</span>
				</div>
				<div class="flex items-center gap-2">
					<div class="w-3 h-3 rounded-full bg-gradient-to-r from-pink-500 to-rose-500"></div>
					<span class="text-gray-400 text-sm">Autres</span>
				</div>
			</div>
		</div>
	</section>

	<!-- Section "Mes passions" avec parallaxe GSAP -->
	<section id="passions" class="relative min-h-[300vh] overflow-hidden">
		<!-- Conteneur du texte (dispara√Æt au scroll) -->
		<div id="passions-text-container" class="fixed inset-0 flex items-center justify-center z-20 pointer-events-none opacity-0">
			<div class="max-w-4xl mx-auto px-6 text-center">
				<h2 id="passions-title" class="text-5xl md:text-7xl lg:text-8xl font-bold mb-8">
					<span class="text-white">MES </span><span class="neon-pink">PASSIONS</span>
				</h2>
				<div id="passions-description" class="space-y-6">
					<p class="text-gray-200 text-xl md:text-2xl leading-relaxed">
						<span class="text-primary-pink font-semibold">Au-del√† de mes √©tudes,</span> 
						je suis passionn√© par les <span class="text-primary-pink font-semibold">jeux vid√©o</span>, 
						la <span class="text-primary-blue font-semibold">cr√©ation de contenu vid√©o</span> 
						et l'<span class="text-primary-pink font-semibold">intelligence artificielle</span>.
					</p>
					<p class="text-gray-300 text-lg md:text-xl">
						Ces univers nourrissent ma cr√©ativit√© et me permettent d'explorer de nouvelles 
						perspectives pour mes projets de <span class="text-primary-blue font-semibold">design</span> 
						et de <span class="text-primary-pink font-semibold">communication</span>.
					</p>
				</div>
			</div>
		</div>

		<!-- Conteneur des vid√©os parallaxe (apparaissent apr√®s le texte) -->
		<div id="passions-videos-container" class="absolute inset-0 opacity-0">
			<!-- Calque 1 : Vid√©o la plus √©loign√©e (fond) -->
			<div class="parallax-layer parallax-layer-1 absolute inset-0 flex items-center justify-center">
				<div class="relative w-[300px] md:w-[400px] lg:w-[500px] opacity-60 group">
					<div class="relative overflow-hidden rounded-2xl border-2 border-primary-blue/20 shadow-2xl" style="aspect-ratio: 9/16;">
						<video 
							class="w-full h-full object-cover video-player" 
							autoplay
							loop 
							muted 
							playsinline
							data-video-id="video-1"
						>
							<source src="/videos/tiktok-rwld.mp4" type="video/mp4">
						</video>
						
						<!-- Contr√¥les personnalis√©s -->
						<div class="absolute top-4 right-4 flex gap-2 z-20">
							<button class="video-sound-btn bg-black/60 hover:bg-primary-blue/80 text-white p-2 rounded-full transition-all" data-video="video-1" title="Activer/D√©sactiver le son">
								<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
									<path class="sound-off" d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>
									<path class="sound-on hidden" d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
								</svg>
							</button>
							<button class="video-fullscreen-btn bg-black/60 hover:bg-primary-pink/80 text-white p-2 rounded-full transition-all" data-video="video-1" title="Plein √©cran">
								<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
									<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>
								</svg>
							</button>
						</div>

						<div class="absolute bottom-0 left-0 right-0 p-3 z-10 pointer-events-none bg-gradient-to-t from-black/80 to-transparent">
							<h4 class="text-white font-semibold text-xs md:text-sm">Les Animes</h4>
						</div>
					</div>
				</div>
			</div>

			<!-- Calque 2 : Vid√©o interm√©diaire (milieu gauche) -->
			<div class="parallax-layer parallax-layer-2 absolute inset-0 flex items-center justify-start pl-8 md:pl-16 lg:pl-24">
				<div class="relative w-[280px] md:w-[360px] lg:w-[450px] opacity-80 group">
					<div class="relative overflow-hidden rounded-2xl border-2 border-primary-pink/30 shadow-2xl hover:border-primary-pink transition-all duration-300" style="aspect-ratio: 9/16;">
						<video 
							class="w-full h-full object-cover video-player" 
							autoplay
							loop 
							muted 
							playsinline
							data-video-id="video-2"
						>
							<source src="/videos/tiktok-mmi.mp4" type="video/mp4">
						</video>
						
						<!-- Contr√¥les personnalis√©s -->
						<div class="absolute top-4 right-4 flex gap-2 z-20">
							<button class="video-sound-btn bg-black/60 hover:bg-primary-blue/80 text-white p-2 rounded-full transition-all" data-video="video-2" title="Activer/D√©sactiver le son">
								<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
									<path class="sound-off" d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>
									<path class="sound-on hidden" d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
								</svg>
							</button>
							<button class="video-fullscreen-btn bg-black/60 hover:bg-primary-pink/80 text-white p-2 rounded-full transition-all" data-video="video-2" title="Plein √©cran">
								<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
									<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>
								</svg>
							</button>
						</div>

						<div class="absolute bottom-0 left-0 right-0 p-3 z-10 pointer-events-none bg-gradient-to-t from-black/80 to-transparent">
							<h4 class="text-white font-semibold text-xs md:text-sm">TikTok Pour Le Compte MMI</h4>
						</div>
					</div>
				</div>
			</div>

			<!-- Calque 3 : Vid√©o au premier plan (milieu droite) -->
			<div class="parallax-layer parallax-layer-3 absolute inset-0 flex items-center justify-end pr-8 md:pr-16 lg:pr-24">
				<div class="relative w-[280px] md:w-[360px] lg:w-[450px] group">
					<div class="relative overflow-hidden rounded-2xl border-2 border-primary-pink/30 shadow-2xl hover:border-primary-pink transition-all duration-300" style="aspect-ratio: 9/16;">
						<video 
							class="w-full h-full object-cover video-player" 
							autoplay
							loop 
							muted 
							playsinline
							data-video-id="video-3"
						>
							<source src="/videos/tiktok-jeux-video.mp4" type="video/mp4">
						</video>
						
						<!-- Contr√¥les personnalis√©s -->
						<div class="absolute top-4 right-4 flex gap-2 z-20">
							<button class="video-sound-btn bg-black/60 hover:bg-primary-blue/80 text-white p-2 rounded-full transition-all" data-video="video-3" title="Activer/D√©sactiver le son">
								<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
									<path class="sound-off" d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>
									<path class="sound-on hidden" d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
								</svg>
							</button>
							<button class="video-fullscreen-btn bg-black/60 hover:bg-primary-pink/80 text-white p-2 rounded-full transition-all" data-video="video-3" title="Plein √©cran">
								<svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
									<path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>
								</svg>
							</button>
						</div>

						<div class="absolute bottom-0 left-0 right-0 p-3 z-10 pointer-events-none bg-gradient-to-t from-black/80 to-transparent">
							<h4 class="text-white font-semibold text-xs md:text-sm">Les Jeux Vid√©os</h4>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
</Layout>

<script>
	import { gsap } from 'gsap';
	import { ScrollTrigger } from 'gsap/ScrollTrigger';

	// Enregistrer le plugin ScrollTrigger
	gsap.registerPlugin(ScrollTrigger);

	// Animation au scroll (Intersection Observer) pour les autres sections
	const observerOptions = {
		threshold: 0.2,
		rootMargin: '0px 0px -50px 0px'
	};

	const observer = new IntersectionObserver((entries) => {
		entries.forEach(entry => {
			if (entry.isIntersecting) {
				setTimeout(() => {
					entry.target.classList.add('animate-fade-in');
				}, 50);
				observer.unobserve(entry.target);
			}
		});
	}, observerOptions);

	// Observer tous les √©l√©ments avec la classe scroll-reveal
	document.addEventListener('DOMContentLoaded', () => {
		const elements = document.querySelectorAll('.scroll-reveal');
		elements.forEach((el, index) => {
			if (el instanceof HTMLElement) {
				el.style.transitionDelay = `${index * 0.1}s`;
			}
			observer.observe(el);
		});

		// Smooth scroll pour les liens d'ancrage
		document.querySelectorAll('a[href^="#"]').forEach(anchor => {
			anchor.addEventListener('click', function (e: Event) {
				e.preventDefault();
				const href = (e.currentTarget as HTMLAnchorElement).getAttribute('href');
				if (href) {
					const target = document.querySelector(href);
					if (target) {
						target.scrollIntoView({
							behavior: 'smooth',
							block: 'start'
						});
					}
				}
			});
		});

		// Animation de la timeline
		animateTimeline();

		// Initialiser l'effet de parallaxe GSAP pour la section "Mes passions"
		initPassionsParallax();

		// G√©rer les contr√¥les vid√©o personnalis√©s
		initVideoControls();
	});

	function animateTimeline() {
		const timeline = document.querySelector('.timeline-wave');
		if (timeline) {
			let position = 0;
			setInterval(() => {
				position += 1;
				(timeline as HTMLElement).style.backgroundPosition = `${position}px 0`;
			}, 50);
		}
	}

	/**
	 * üé• Gestion des contr√¥les vid√©o personnalis√©s
	 */
	function initVideoControls() {
		// Boutons de son
		const soundButtons = document.querySelectorAll('.video-sound-btn');
		soundButtons.forEach(btn => {
			btn.addEventListener('click', (e) => {
				e.stopPropagation();
				const videoId = (btn as HTMLElement).getAttribute('data-video');
				const video = document.querySelector(`[data-video-id="${videoId}"]`) as HTMLVideoElement;
				const soundOff = btn.querySelector('.sound-off') as HTMLElement;
				const soundOn = btn.querySelector('.sound-on') as HTMLElement;
				
				if (video) {
					video.muted = !video.muted;
					if (soundOff && soundOn) {
						soundOff.classList.toggle('hidden');
						soundOn.classList.toggle('hidden');
					}
				}
			});
		});

		// Boutons plein √©cran
		const fullscreenButtons = document.querySelectorAll('.video-fullscreen-btn');
		fullscreenButtons.forEach(btn => {
			btn.addEventListener('click', (e) => {
				e.stopPropagation();
				const videoId = (btn as HTMLElement).getAttribute('data-video');
				const video = document.querySelector(`[data-video-id="${videoId}"]`) as HTMLVideoElement;
				
				if (video) {
					if (video.requestFullscreen) {
						video.requestFullscreen();
					} else if ((video as any).webkitRequestFullscreen) {
						(video as any).webkitRequestFullscreen();
					} else if ((video as any).mozRequestFullScreen) {
						(video as any).mozRequestFullScreen();
					} else if ((video as any).msRequestFullscreen) {
						(video as any).msRequestFullscreen();
					}
				}
			});
		});
	}

	/**
	 * üé¨ Animation GSAP pour la section "Mes passions"
	 * 
	 * Phase 0 : Le texte est invisible jusqu'√† ce qu'on arrive √† la section
	 * Phase 1 : Le texte appara√Æt quand on arrive √† la section
	 * Phase 2 : Au scroll, le texte dispara√Æt (fade + d√©placement vers le haut)
	 * Phase 3 : Les vid√©os apparaissent en fond avec effet de parallaxe
	 */
	function initPassionsParallax() {
		const passionsSection = document.querySelector('#passions');
		const textContainer = document.querySelector('#passions-text-container');
		const videosContainer = document.querySelector('#passions-videos-container');
		const title = document.querySelector('#passions-title');
		const description = document.querySelector('#passions-description');

		// V√©rifier que tous les √©l√©ments existent
		if (!passionsSection || !textContainer || !videosContainer || !title || !description) {
			console.warn('Section Passions : √©l√©ments manquants pour l\'animation GSAP');
			return;
		}

		// ===== ANIMATION 0 : Apparition du texte quand on arrive √† la section =====
		gsap.to(textContainer, {
			opacity: 1,
			scrollTrigger: {
				trigger: passionsSection,
				start: 'top 30%', // Commence √† appara√Ætre quand la section est √† 30% du viewport
				end: 'top top', // Compl√®tement visible quand la section arrive en haut
				scrub: 1,
			}
		});

		// ===== ANIMATION 1 : Disparition du texte =====
		const textTimeline = gsap.timeline({
			scrollTrigger: {
				trigger: passionsSection,
				start: 'top top', // D√©marre quand la section atteint le haut
				end: '20% top', // Se termine √† 20% du scroll (plus rapide)
				scrub: 1,
			}
		});

		// Le titre dispara√Æt plus vite et monte plus haut
		textTimeline.to(title, {
			opacity: 0,
			y: -100,
			ease: 'power2.in'
		}, 0);

		// La description dispara√Æt l√©g√®rement apr√®s
		textTimeline.to(description, {
			opacity: 0,
			y: -60,
			ease: 'power2.in'
		}, 0.2);

		// ===== ANIMATION 2 : Apparition des vid√©os =====
		const videosTimeline = gsap.timeline({
			scrollTrigger: {
				trigger: passionsSection,
				start: '15% top', // Les vid√©os commencent √† appara√Ætre apr√®s le texte
				end: '35% top',
				scrub: 1,
			}
		});

		// Le conteneur des vid√©os devient visible
		videosTimeline.to(videosContainer, {
			opacity: 1,
			ease: 'power2.out'
		});

		// ===== ANIMATION 3 : Parallaxe des vid√©os (effet de profondeur) =====
		// Chaque calque se d√©place √† une vitesse diff√©rente pour cr√©er la profondeur

		// Calque 1 (fond) : se d√©place lentement
		gsap.to('.parallax-layer-1', {
			y: () => -200, // D√©placement de 200px vers le haut
			ease: 'none',
			scrollTrigger: {
				trigger: passionsSection,
				start: 'top top',
				end: 'bottom top',
				scrub: 2, // Plus fluide (scrub = vitesse de r√©ponse au scroll)
			}
		});

		// Calque 2 (milieu) : se d√©place √† vitesse moyenne
		gsap.to('.parallax-layer-2', {
			y: () => -350,
			ease: 'none',
			scrollTrigger: {
				trigger: passionsSection,
				start: 'top top',
				end: 'bottom top',
				scrub: 1.5,
			}
		});

		// Calque 3 (premier plan) : se d√©place plus vite
		gsap.to('.parallax-layer-3', {
			y: () => -500,
			ease: 'none',
			scrollTrigger: {
				trigger: passionsSection,
				start: 'top top',
				end: 'bottom top',
				scrub: 1,
			}
		});

		// ===== EFFET BONUS : L√©ger zoom + rotation au scroll =====
		gsap.to('.parallax-layer-1 > div', {
			scale: 1.1,
			rotation: 2,
			ease: 'none',
			scrollTrigger: {
				trigger: passionsSection,
				start: 'top top',
				end: 'bottom top',
				scrub: 2,
			}
		});

		gsap.to('.parallax-layer-2 > div', {
			scale: 1.15,
			rotation: -3,
			ease: 'none',
			scrollTrigger: {
				trigger: passionsSection,
				start: 'top top',
				end: 'bottom top',
				scrub: 1.5,
			}
		});

		gsap.to('.parallax-layer-3 > div', {
			scale: 1.2,
			rotation: 3,
			ease: 'none',
			scrollTrigger: {
				trigger: passionsSection,
				start: 'top top',
				end: 'bottom top',
				scrub: 1,
			}
		});
	}
</script>

<style>
	/* Styles pour la page √Ä propos */

	/* Animation de la timeline */
	.timeline-wave {
		background: linear-gradient(90deg, 
			#D019D0 0%, 
			#1974D1 25%, 
			#D019D0 50%, 
			#1974D1 75%, 
			#D019D0 100%);
		background-size: 200% 100%;
		animation: waveFlow 3s linear infinite;
	}

	@keyframes waveFlow {
		0% {
			background-position: 0% 0%;
		}
		100% {
			background-position: 200% 0%;
		}
	}

	/* Styles des cartes timeline */
	.timeline-card {
		position: relative;
	}

	.timeline-card::before {
		content: '';
		position: absolute;
		top: -20px;
		left: 50%;
		transform: translateX(-50%);
		width: 16px;
		height: 16px;
		background: linear-gradient(135deg, #D019D0, #1974D1);
		border-radius: 50%;
		box-shadow: 0 0 20px rgba(208, 25, 208, 0.6);
		display: none;
	}

	@media (min-width: 768px) {
		.timeline-card::before {
			display: block;
		}
	}

	/* Grid responsive pour les comp√©tences */
	.skills-grid {
		display: grid;
		grid-auto-flow: dense;
	}

	/* ===== STYLES POUR LA SECTION "MES PASSIONS" ===== */
	
	/* Section principale avec hauteur √©tendue pour le scroll */
	#passions {
		position: relative;
		background: linear-gradient(180deg, rgba(0, 0, 0, 0.9) 0%, rgba(10, 5, 20, 0.95) 50%, rgba(0, 0, 0, 0.9) 100%);
	}

	/* Conteneur du texte fixe (plein √©cran) */
	#passions-text-container {
		will-change: opacity, transform;
	}

	#passions-title,
	#passions-description {
		will-change: opacity, transform;
	}

	/* Conteneur des vid√©os en fond */
	#passions-videos-container {
		will-change: opacity;
	}

	/* Calques de parallaxe avec z-index distincts */
	.parallax-layer {
		will-change: transform;
		backface-visibility: hidden;
		-webkit-backface-visibility: hidden;
		pointer-events: none; /* D√©sactiver les clics sur le conteneur */
	}

	.parallax-layer > div {
		pointer-events: auto; /* R√©activer les clics sur le contenu */
	}

	/* Forcer le format vertical (9:16) des vid√©os en plein √©cran */
	.video-player:fullscreen {
		width: auto !important;
		height: 100% !important;
		max-width: 56.25vh; /* 9/16 * 100vh pour garder le ratio */
		margin: 0 auto;
		object-fit: contain;
	}

	.video-player:-webkit-full-screen {
		width: auto !important;
		height: 100% !important;
		max-width: 56.25vh;
		margin: 0 auto;
		object-fit: contain;
	}

	.video-player:-moz-full-screen {
		width: auto !important;
		height: 100% !important;
		max-width: 56.25vh;
		margin: 0 auto;
		object-fit: contain;
	}

	.video-player:-ms-fullscreen {
		width: auto !important;
		height: 100% !important;
		max-width: 56.25vh;
		margin: 0 auto;
		object-fit: contain;
	}

	/* Calque 1 : Fond (le plus √©loign√©) */
	.parallax-layer-1 {
		z-index: 1;
	}

	/* Calque 2 : Milieu */
	.parallax-layer-2 {
		z-index: 2;
	}

	/* Calque 3 : Premier plan (le plus proche) */
	.parallax-layer-3 {
		z-index: 3;
	}

	/* Effet de hover sur les vid√©os */
	.parallax-layer > div {
		transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
	}

	/* Ombres port√©es pour accentuer la profondeur */
	.parallax-layer-1 > div {
		filter: drop-shadow(0 10px 30px rgba(0, 0, 0, 0.3));
	}

	.parallax-layer-2 > div {
		filter: drop-shadow(0 20px 50px rgba(0, 0, 0, 0.4));
	}

	.parallax-layer-3 > div {
		filter: drop-shadow(0 30px 70px rgba(0, 0, 0, 0.5));
	}

	/* Responsive : d√©sactiver les effets complexes sur mobile */
	@media (max-width: 768px) {
		#passions {
			min-height: auto !important;
			padding: 4rem 0;
		}

		#passions-text-container {
			position: relative !important;
			margin-bottom: 3rem;
		}

		#passions-videos-container {
			position: relative !important;
			opacity: 1 !important;
		}

		.parallax-layer {
			position: relative !important;
			display: block !important;
			margin-bottom: 2rem;
			transform: none !important;
		}

		.parallax-layer > div {
			margin: 0 auto;
			max-width: 300px;
			opacity: 1 !important;
		}
	}

	/* Animation suppl√©mentaire pour les √©l√©ments */
	@media (prefers-reduced-motion: no-preference) {
		.scroll-reveal {
			animation-play-state: running;
		}
	}

	@media (prefers-reduced-motion: reduce) {
		.scroll-reveal,
		.parallax-layer,
		#passions-text-container,
		#passions-videos-container {
			animation: none !important;
			transition: none !important;
			transform: none !important;
		}
	}

	/* Responsive adjustments */
	@media (max-width: 768px) {
		.timeline-card::before {
			display: none;
		}
		
		.skills-grid {
			grid-template-columns: repeat(2, 1fr);
		}
	}
</style>
